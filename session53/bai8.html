<!DOCTYPE html>
<html>
  <head>
    <title>Countdown with Promise</title>
    <script>
      function countDown(n) {
        return new Promise((resolve, reject) => {
          if (typeof n !== "number" || !Number.isInteger(n) || n <= 0) {
            return reject("Tham số phải là một số nguyên dương.");
          }

          let remainingTime = n;

          const intervalId = setInterval(() => {
            console.log("Thời gian còn lại: " + remainingTime + " giây");
            remainingTime--;

            if (remainingTime < 0) {
              clearInterval(intervalId);
              resolve("Hoàn thành quá trình đếm");
            }
          }, 1000);
        });
      }

      function startCountDown() {
        const n = 5;
        countDown(n)
          .then((message) => {
            console.log(message);
          })
          .catch((error) => {
            console.error("Lỗi: " + error);
          });
      }

      window.onload = startCountDown;
    </script>
  </head>
  <body>
    <h1>Countdown with Promise</h1>
    <p>Mở console của trình duyệt để xem kết quả.</p>
  </body>
</html>
